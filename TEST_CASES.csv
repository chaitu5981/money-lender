Test Case ID,Description,Interest Rate (%),Start Date,Transactions (Date|Type|Amount),Calculation End Date,Expected Year 1 Interest,Expected Year 1 New Principal,Expected Year 2 Interest,Expected Year 2 New Principal,Expected Year 3 Interest,Expected Year 3 New Principal,Notes
TC001,Basic single borrowal on start date,12,2024-11-17,"2024-11-17|receipt|300000",2025-11-17,36000,336000,,,,,Single transaction on year start, calculate interest for full year
TC002,Basic single borrowal with repayment,12,2024-11-17,"2024-11-17|receipt|300000;2025-05-17|payment|50000",2025-11-17,30000,280000,,,,,Transaction in middle of year, interest calculated in segments
TC003,Repayment on anniversary date,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|50000",2025-11-17,36000,286000,,,,,Repayment on anniversary creates 0-day calculation cell
TC004,Borrowal on anniversary date,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000",2025-11-17,36000,386000,,,,,Borrowal on anniversary creates 0-day calculation cell
TC005,Multiple transactions in Year 1,12,2024-11-17,"2024-11-17|receipt|300000;2025-03-17|receipt|50000;2025-07-17|payment|20000",2025-11-17,34800,364800,,,,,Multiple transactions with interest calculated between each
TC006,Year 2 with transactions,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-05-17|payment|30000",2026-11-17,36000,386000,40200,396200,,,Year 2 starts with new principal from Year 1
TC007,Repayment on Year 2 anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|payment|50000",2026-11-17,36000,386000,46320,382320,,,Repayment on Year 2 anniversary, check 0-day cell principal
TC008,Borrowal on Year 2 anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|receipt|50000",2026-11-17,36000,386000,46320,482320,,,Borrowal on Year 2 anniversary, check 0-day cell principal
TC009,Year with no transactions,12,2024-11-17,"2024-11-17|receipt|300000",2026-11-17,36000,336000,40320,376320,,,Year 2 has no transactions, should still calculate interest
TC010,First transaction on year start second on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|20000",2025-11-17,36000,316000,,,,,First tx on start, second on anniversary - special case
TC011,Multiple repayments on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|50000;2026-11-17|payment|50000",2026-11-17,36000,286000,34320,270320,,,Repayments on both Year 1 and Year 2 anniversaries
TC012,Multiple borrowals on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|receipt|50000",2026-11-17,36000,386000,46320,482320,,,Borrowals on both Year 1 and Year 2 anniversaries
TC013,Mixed transactions on anniversaries,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|50000;2026-11-17|receipt|50000",2026-11-17,36000,286000,34320,370320,,,Repayment on Year 1 anniversary, borrowal on Year 2 anniversary
TC014,Complex multi-year scenario,12,2024-11-17,"2024-11-17|receipt|300000;2025-05-17|receipt|50000;2025-11-17|payment|20000;2026-03-17|payment|30000;2026-11-17|receipt|40000",2026-11-17,34800,364800,40200,374800,,,Complex scenario with multiple transactions across years
TC015,Year 3 calculation,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|receipt|50000",2027-11-17,36000,386000,46320,482320,57878.4,540198.4,Year 3 calculation with borrowal on anniversary
TC016,Repayment brings principal to zero,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|336000",2025-11-17,36000,0,,,,,Repayment equals principal + interest, should result in 0
TC017,Large repayment on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|200000",2025-11-17,36000,136000,,,,,Large repayment on anniversary, check 0-day cell
TC018,Small borrowal on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|10000",2025-11-17,36000,370000,,,,,Small borrowal on anniversary
TC019,Transaction on same date as previous,12,2024-11-17,"2024-11-17|receipt|300000;2024-11-17|receipt|50000",2025-11-17,36000,386000,,,,,Two transactions on same date (year start)
TC020,Year 2 with repayment on anniversary - verify principal,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|payment|50000",2026-11-17,36000,386000,46320,382320,,,Verify Year 2 new principal = 107200 (0-day cell) + 16693 (interest) = 123893? Check calculation
TC021,Year 1 with repayment on anniversary - verify principal,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|12200",2025-11-17,36000,323800,,,,,Verify Year 1: if 0-day cell shows 75000, new principal = 75000 + 12200 = 87200
TC022,Multiple transactions before anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-03-17|receipt|50000;2025-07-17|payment|20000;2025-11-17|receipt|30000",2025-11-17,34800,408800,,,,,Multiple transactions ending with borrowal on anniversary
TC023,Multiple transactions ending with repayment on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-03-17|receipt|50000;2025-07-17|payment|20000;2025-11-17|payment|30000",2025-11-17,34800,348800,,,,,Multiple transactions ending with repayment on anniversary
TC024,Year 2 with no transactions - verify interest,12,2024-11-17,"2024-11-17|receipt|300000",2026-11-17,36000,336000,40320,376320,,,Year 2 has no transactions, interest should be calculated on Year 1 new principal
TC025,Year 3 with repayment on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|receipt|50000;2027-11-17|payment|60000",2027-11-17,36000,386000,46320,482320,57878.4,480198.4,Year 3 repayment on anniversary
TC026,First transaction repayment on year start,12,2024-11-17,"2024-11-17|payment|50000",2025-11-17,0,0,,,,,First transaction is a repayment (negative principal scenario)
TC027,Repayment exceeds principal,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|payment|400000",2025-11-17,36000,0,,,,,Repayment exceeds principal + interest, should result in 0
TC028,Year 2 with borrowal then repayment on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-05-17|receipt|30000;2026-11-17|payment|50000",2026-11-17,36000,386000,40200,366200,,,Year 2 has transaction before anniversary, then repayment on anniversary
TC029,Year 2 with repayment then borrowal on anniversary,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-05-17|payment|30000;2026-11-17|receipt|50000",2026-11-17,36000,386000,40200,406200,,,Year 2 has repayment before anniversary, then borrowal on anniversary
TC030,Three years with transactions on all anniversaries,12,2024-11-17,"2024-11-17|receipt|300000;2025-11-17|receipt|50000;2026-11-17|payment|50000;2027-11-17|receipt|40000",2027-11-17,36000,386000,46320,382320,45878.4,428198.4,Three years with alternating transactions on anniversaries

